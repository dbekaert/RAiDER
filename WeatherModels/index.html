
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../tutorials/">
      
      
        <link rel="next" href="../reference_td/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.30">
    
    
      
        <title>Weather Model Access - RAiDER API Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.3cba04c6.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#accessing-weather-model-data" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="RAiDER API Documentation" class="md-header__button md-logo" aria-label="RAiDER API Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            RAiDER API Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Weather Model Access
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/dbekaert/RAiDER" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    RAiDER
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="RAiDER API Documentation" class="md-nav__button md-logo" aria-label="RAiDER API Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    RAiDER API Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/dbekaert/RAiDER" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    RAiDER
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home page
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tutorials
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorials/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://nbviewer.org/github/dbekaert/RAiDER-docs/blob/main/notebooks/RAiDER_tutorial/RAiDER_tutorial.ipynb" target="_blank" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RAiDER tutorial
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://nbviewer.org/github/dbekaert/RAiDER-docs/blob/main/notebooks/RAiDER_tutorial/RAiDER_Python_access.ipynb" target="_blank" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RAiDER Python tutorial
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://nbviewer.org/github/dbekaert/RAiDER-docs/blob/main/notebooks/raiderStats/raiderStats_tutorial.ipynb" target="_blank" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    raiderStats tutorial
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://nbviewer.org/github/dbekaert/RAiDER-docs/blob/main/notebooks/raiderDownloadGNSS/raiderDownloadGNSS_tutorial.ipynb"  target="_blank" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Downloading GNSS tropospheric delays
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://nbviewer.org/github/dbekaert/RAiDER-docs/blob/main/notebooks/Pandas_tutorial/Pandas_tutorial.ipynb"  target="_blank" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GNSS delay manipulation with Pandas
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Weather Model Access
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Weather Model Access
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-usage" class="md-nav__link">
    <span class="md-ellipsis">
      1. Usage
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Usage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#RAiDER.processWM.prepareWeatherModel" class="md-nav__link">
    <span class="md-ellipsis">
      prepareWeatherModel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#potential-download-failure" class="md-nav__link">
    <span class="md-ellipsis">
      Potential download failure
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-noaa-weather-models-hrrr" class="md-nav__link">
    <span class="md-ellipsis">
      2. NOAA weather models (HRRR)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-ecmwf-weather-models-era5-era5t-erai-hres" class="md-nav__link">
    <span class="md-ellipsis">
      3. ECMWF weather models (ERA5, ERA5T, ERAI, HRES)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. ECMWF weather models (ERA5, ERA5T, ERAI, HRES)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#accessing-era5-and-era5t-weather-reanalysis-products-from-copernicus-cds" class="md-nav__link">
    <span class="md-ellipsis">
      Accessing ERA5 and ERA5T weather reanalysis products from Copernicus CDS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#accessing-erai-hres" class="md-nav__link">
    <span class="md-ellipsis">
      Accessing ERAI, HRES
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-nasa-weather-models-gmao-merra2" class="md-nav__link">
    <span class="md-ellipsis">
      4. NASA weather models (GMAO, MERRA2)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. NASA weather models (GMAO, MERRA2)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#accessing-nasa-weather-model-data" class="md-nav__link">
    <span class="md-ellipsis">
      Accessing NASA weather model data
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference_td/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Delay Calculation
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API Reference
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-usage" class="md-nav__link">
    <span class="md-ellipsis">
      1. Usage
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Usage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#RAiDER.processWM.prepareWeatherModel" class="md-nav__link">
    <span class="md-ellipsis">
      prepareWeatherModel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#potential-download-failure" class="md-nav__link">
    <span class="md-ellipsis">
      Potential download failure
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-noaa-weather-models-hrrr" class="md-nav__link">
    <span class="md-ellipsis">
      2. NOAA weather models (HRRR)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-ecmwf-weather-models-era5-era5t-erai-hres" class="md-nav__link">
    <span class="md-ellipsis">
      3. ECMWF weather models (ERA5, ERA5T, ERAI, HRES)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. ECMWF weather models (ERA5, ERA5T, ERAI, HRES)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#accessing-era5-and-era5t-weather-reanalysis-products-from-copernicus-cds" class="md-nav__link">
    <span class="md-ellipsis">
      Accessing ERA5 and ERA5T weather reanalysis products from Copernicus CDS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#accessing-erai-hres" class="md-nav__link">
    <span class="md-ellipsis">
      Accessing ERAI, HRES
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-nasa-weather-models-gmao-merra2" class="md-nav__link">
    <span class="md-ellipsis">
      4. NASA weather models (GMAO, MERRA2)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. NASA weather models (GMAO, MERRA2)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#accessing-nasa-weather-model-data" class="md-nav__link">
    <span class="md-ellipsis">
      Accessing NASA weather model data
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="accessing-weather-model-data">Accessing weather model data</h1>
<p>RAiDER has built-in support for a number of different weather models.  RAiDER provides all the interfacing to data servers required to access data for the different weather models, although some weather models require a license agreement and accounts to be set-up. Instructions for accessing data, including license-limited data, are provided below. It is the user's responsibility to accept license agreements for whatever model is desired. </p>
<p>In addition, RAiDER provides functionality for adding additional weather models. See the <a href="https://github.com/dbekaert/RAiDER-docs">RAiDER-docs repository</a> page on how to do this. We would love to expand the suite of supported models, and welcome any contributions. Please see the contributing guidelines or reach out through an issue ticket for help. </p>
<hr />
<h2 id="1-usage">1. Usage</h2>


<div class="doc doc-object doc-function">


<h3 id="RAiDER.processWM.prepareWeatherModel" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">RAiDER</span><span class="o">.</span><span class="n">processWM</span><span class="o">.</span><span class="n">prepareWeatherModel</span><span class="p">(</span><span class="n">weather_model</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">ll_bounds</span><span class="p">,</span> <span class="n">download_only</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">makePlots</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">force_download</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents first">

      <p>Parse inputs to download and prepare a weather model grid for interpolation</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>weather_model</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>WeatherModel   - instantiated weather model object</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>time</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>datetime                - Python datetime to request. Will be rounded to nearest available time</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>ll_bounds</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>list/array         - SNWE bounds target area to ensure weather model contains them</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>download_only</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>bool           - False if preprocessing weather model data</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>makePlots</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>bool               - whether to write debug plots</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>force_download</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>bool          - True if you want to download even when the weather model exists</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>filename of the netcdf file to which the weather model has been written</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>RAiDER/processWM.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">prepareWeatherModel</span><span class="p">(</span>
        <span class="n">weather_model</span><span class="p">,</span>
        <span class="n">time</span><span class="p">,</span>
        <span class="n">ll_bounds</span><span class="p">,</span>
        <span class="n">download_only</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">makePlots</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">force_download</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Parse inputs to download and prepare a weather model grid for interpolation</span>

<span class="sd">    Args:</span>
<span class="sd">        weather_model: WeatherModel   - instantiated weather model object</span>
<span class="sd">        time: datetime                - Python datetime to request. Will be rounded to nearest available time</span>
<span class="sd">        ll_bounds: list/array         - SNWE bounds target area to ensure weather model contains them</span>
<span class="sd">        download_only: bool           - False if preprocessing weather model data</span>
<span class="sd">        makePlots: bool               - whether to write debug plots</span>
<span class="sd">        force_download: bool          - True if you want to download even when the weather model exists</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: filename of the netcdf file to which the weather model has been written</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1">## set the bounding box from the in the case that it hasn&#39;t been set</span>
    <span class="k">if</span> <span class="n">weather_model</span><span class="o">.</span><span class="n">get_latlon_bounds</span><span class="p">()</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">weather_model</span><span class="o">.</span><span class="n">set_latlon_bounds</span><span class="p">(</span><span class="n">ll_bounds</span><span class="p">)</span>

    <span class="c1"># Ensure the file output location exists</span>
    <span class="n">wmLoc</span>     <span class="o">=</span> <span class="n">weather_model</span><span class="o">.</span><span class="n">get_wmLoc</span><span class="p">()</span>
    <span class="n">weather_model</span><span class="o">.</span><span class="n">setTime</span><span class="p">(</span><span class="n">time</span><span class="p">)</span>

    <span class="c1"># get the path to the less processed weather model file</span>
    <span class="n">path_wm_raw</span> <span class="o">=</span> <span class="n">make_raw_weather_data_filename</span><span class="p">(</span><span class="n">wmLoc</span><span class="p">,</span> <span class="n">weather_model</span><span class="o">.</span><span class="n">Model</span><span class="p">(),</span> <span class="n">time</span><span class="p">)</span>

    <span class="c1"># get the path to the more processed (cropped) weather model file</span>
    <span class="n">path_wm_crop</span> <span class="o">=</span> <span class="n">weather_model</span><span class="o">.</span><span class="n">out_file</span><span class="p">(</span><span class="n">wmLoc</span><span class="p">)</span>

    <span class="c1"># check whether weather model files exists and/or or should be downloaded</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path_wm_crop</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">force_download</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="s1">&#39;Processed weather model already exists, please remove it (&quot;</span><span class="si">%s</span><span class="s1">&quot;) if you want &#39;</span>
            <span class="s1">&#39;to download a new one.&#39;</span><span class="p">,</span> <span class="n">path_wm_crop</span><span class="p">)</span>

    <span class="c1"># check whether the raw weather model covers this area</span>
    <span class="k">elif</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path_wm_raw</span><span class="p">)</span> <span class="ow">and</span> \
        <span class="n">checkContainment_raw</span><span class="p">(</span><span class="n">path_wm_raw</span><span class="p">,</span> <span class="n">ll_bounds</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">force_download</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="s1">&#39;Raw weather model already exists, please remove it (&quot;</span><span class="si">%s</span><span class="s1">&quot;) if you want &#39;</span>
            <span class="s1">&#39;to download a new one.&#39;</span><span class="p">,</span> <span class="n">path_wm_raw</span><span class="p">)</span>

    <span class="c1"># if no weather model files supplied, check the standard location</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">path_wm_raw</span><span class="p">),</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">weather_model</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="n">path_wm_raw</span><span class="p">,</span> <span class="n">time</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">DatetimeOutsideRange</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">TryToKeepGoingError</span>

    <span class="c1"># If only downloading, exit now</span>
    <span class="k">if</span> <span class="n">download_only</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="s1">&#39;download_only flag selected. No further processing will happen.&#39;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="c1"># Otherwise, load the weather model data</span>
    <span class="n">f</span> <span class="o">=</span> <span class="n">weather_model</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">f</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="s1">&#39;The processed weather model file already exists,&#39;</span>
            <span class="s1">&#39; so I will use that.&#39;</span>
        <span class="p">)</span>

        <span class="n">containment</span> <span class="o">=</span> <span class="n">weather_model</span><span class="o">.</span><span class="n">checkContainment</span><span class="p">(</span><span class="n">ll_bounds</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">containment</span> <span class="ow">and</span> <span class="n">weather_model</span><span class="o">.</span><span class="n">Model</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="s1">&#39;HRRR&#39;</span><span class="o">.</span><span class="n">split</span><span class="p">():</span>
            <span class="k">raise</span> <span class="n">ExistingWeatherModelTooSmall</span>

        <span class="k">return</span> <span class="n">f</span>

    <span class="c1"># Logging some basic info</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
        <span class="s1">&#39;Number of weather model nodes: </span><span class="si">%s</span><span class="s1">&#39;</span><span class="p">,</span>
            <span class="n">np</span><span class="o">.</span><span class="n">prod</span><span class="p">(</span><span class="n">weather_model</span><span class="o">.</span><span class="n">getWetRefractivity</span><span class="p">()</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
            <span class="p">)</span>
    <span class="n">shape</span> <span class="o">=</span> <span class="n">weather_model</span><span class="o">.</span><span class="n">getWetRefractivity</span><span class="p">()</span><span class="o">.</span><span class="n">shape</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Shape of weather model: </span><span class="si">{</span><span class="n">shape</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
        <span class="s1">&#39;Bounds of the weather model: </span><span class="si">%.2f</span><span class="s1">/</span><span class="si">%.2f</span><span class="s1">/</span><span class="si">%.2f</span><span class="s1">/</span><span class="si">%.2f</span><span class="s1"> (SNWE)&#39;</span><span class="p">,</span>
        <span class="n">np</span><span class="o">.</span><span class="n">nanmin</span><span class="p">(</span><span class="n">weather_model</span><span class="o">.</span><span class="n">_ys</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">nanmax</span><span class="p">(</span><span class="n">weather_model</span><span class="o">.</span><span class="n">_ys</span><span class="p">),</span>
        <span class="n">np</span><span class="o">.</span><span class="n">nanmin</span><span class="p">(</span><span class="n">weather_model</span><span class="o">.</span><span class="n">_xs</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">nanmax</span><span class="p">(</span><span class="n">weather_model</span><span class="o">.</span><span class="n">_xs</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;Weather model: </span><span class="si">%s</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">weather_model</span><span class="o">.</span><span class="n">Model</span><span class="p">())</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
        <span class="s1">&#39;Mean value of the wet refractivity: </span><span class="si">%f</span><span class="s1">&#39;</span><span class="p">,</span>
        <span class="n">np</span><span class="o">.</span><span class="n">nanmean</span><span class="p">(</span><span class="n">weather_model</span><span class="o">.</span><span class="n">getWetRefractivity</span><span class="p">())</span>
    <span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
        <span class="s1">&#39;Mean value of the hydrostatic refractivity: </span><span class="si">%f</span><span class="s1">&#39;</span><span class="p">,</span>
        <span class="n">np</span><span class="o">.</span><span class="n">nanmean</span><span class="p">(</span><span class="n">weather_model</span><span class="o">.</span><span class="n">getHydroRefractivity</span><span class="p">())</span>
    <span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">weather_model</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">makePlots</span><span class="p">:</span>
        <span class="n">weather_model</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;wh&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="n">weather_model</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;pqt&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="s1">&#39;all&#39;</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">f</span> <span class="o">=</span> <span class="n">weather_model</span><span class="o">.</span><span class="n">write</span><span class="p">()</span>
        <span class="n">containment</span> <span class="o">=</span> <span class="n">weather_model</span><span class="o">.</span><span class="n">checkContainment</span><span class="p">(</span><span class="n">ll_bounds</span><span class="p">)</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="s2">&quot;Unable to save weathermodel to file&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">CriticalError</span>

    <span class="k">finally</span><span class="p">:</span>
        <span class="n">wm</span> <span class="o">=</span> <span class="n">weather_model</span><span class="o">.</span><span class="n">Model</span><span class="p">()</span>
        <span class="k">del</span> <span class="n">weather_model</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">containment</span> <span class="ow">and</span> <span class="n">wm</span> <span class="ow">not</span> <span class="ow">in</span> <span class="s1">&#39;HRRR&#39;</span><span class="o">.</span><span class="n">split</span><span class="p">():</span>
        <span class="k">raise</span> <span class="n">ExistingWeatherModelTooSmall</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">f</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div><h3 id="potential-download-failure">Potential download failure</h3>
<p>ERA-5/ERA-I products require access to the ESA Copernicus servers. GMAO and MERRA-2 products require access to the NASA Earthdata servers. If you are unable to download products, ensure that you have registered and have downloaded the public API key, and accepted/added the license/application for type of product you wish to download as detailed below. </p>
<hr />
<h2 id="2-noaa-weather-models-hrrr">2. NOAA weather models (HRRR)</h2>
<p>High-resolution rapid refresh (HRRR) weather model data products are generated by <strong><a href="https://rapidrefresh.noaa.gov/hrrr/">NOAA</a></strong> for the coninental US (CONUS) but not archived beyond three days. However, a public <strong><a href="https://home.chpc.utah.edu/~u0553130/Brian_Blaylock/hrrr_FAQ.html">archive</a></strong> is available at the University of Utah. This archive does not require a license agreement. This model has the highest spatial resolution available in RAiDER, with a horizontal grid spacing of about 3 km, and is provided in a Lambert conformal conic projection. </p>
<hr />
<h2 id="3-ecmwf-weather-models-era5-era5t-erai-hres">3. ECMWF weather models (ERA5, ERA5T, ERAI, HRES)</h2>
<p>The Copernicus Climate Data Store (CDS) provides access to the European Centre for Medium-Range Weather Forecasts (<strong><a href="https://www.ecmwf.int/">ECMWF</a></strong>)  provides a number of different weather models, including ERA5 and ERA5T reanalysis models.  </p>
<p>The ECMWF provides access to both reanalysis and real-time prediction models. You can read more information about their reanalysis models <strong><a href="https://www.ecmwf.int/en/research/climate-reanalysis">here</a></strong> and real-time model <strong><a href="https://www.ecmwf.int/en/forecasts/datasets/catalogue-ecmwf-real-time-products">here</a></strong>. ECMWF models are global, with horizontal resolution of about 30 km for ERA-I, ERA-5, and ERA-5T, and 6 km for Hi-RES. All of these models come in a global projection (EPSG 4326, WGS-84). </p>
<h3 id="accessing-era5-and-era5t-weather-reanalysis-products-from-copernicus-cds">Accessing ERA5 and ERA5T weather reanalysis products from Copernicus CDS</h3>
<ol>
<li>Create an account on the Copernicus servers <strong><a href="https://cds.climate.copernicus.eu/user">here</a></strong></li>
<li>Confirm your email, etc. </li>
<li>
<p>Install the public API key and client as instructed <strong><a href="https://cds.climate.copernicus.eu/api-how-to">here</a></strong>:</p>
<p>a. Copy the URL and API key from the webpage into a file in your home directory name <code>~/.cdsapirc</code></p>
<pre><code>url: https://cds.climate.copernicus.eu/api/v2
key: your_key_here
</code></pre>
<p><strong>Note</strong>: the key represents the API key obtained upon the registration of CDS API, and should be replaced with the user's own information.</p>
<p>b. Install the CDS API using pip</p>
<pre><code>pip install cdsapi
</code></pre>
<p><strong>Note</strong>: this step has been included in the conda install of RAiDER, thus can be omitted if one uses the recommended conda install of RAiDER</p>
</li>
<li>
<p>You must accept the <a href="https://cds.climate.copernicus.eu/cdsapp/#!/terms/licence-to-use-copernicus-products">license</a> for each product you wish to download.</p>
</li>
</ol>
<h3 id="accessing-erai-hres">Accessing ERAI, HRES</h3>
<p>ECMWF requires a license agreement to be able to access, download, and use their products. Instructions for completing this process is below. </p>
<ol>
<li>Create an account on the ECMWF servers <strong><a href="https://accounts.ecmwf.int/auth/realms/ecmwf/protocol/openid-connect/auth?response_type=code&amp;scope=openid%20email&amp;client_id=apache-www&amp;state=sBYlpcTRPhat8d6uuM9swLCxuP8&amp;redirect_uri=https%3A%2F%2Fwww.ecmwf.int%2Foidc.cgi&amp;nonce=RyEzBUy4m6oo_HxRQEmJxbc5jrKY4KFZd1Usgi8cpnM">here</a></strong>. The ERA-I model is open-access, while HRES requires a special licence agreement.</li>
<li>Confirm your email, etc. </li>
<li>
<p>Install the public API key and client as instructed <strong><a href="https://confluence.ecmwf.int/display/WEBAPI/Access+ECMWF+Public+Datasets#AccessECMWFPublicDatasets-key">here</a></strong>: </p>
<p>a. Copy the URL and API key from the webpage into a file in your home directory name <code>~/.ecmwfapirc</code></p>
<pre><code>{
    "url"   : "https://api.ecmwf.int/v1",
    "key"   : your key here,
    "email" : your email here
}
</code></pre>
<p><strong>Note</strong>: the email that is used to register the user account, and the key represents the API key obtained upon the registration of ECMWF API, and should be replaced with the user's own information.</p>
<p>b. Install the ECMWF API using pip:</p>
<pre><code>pip install ecmwf-api-client`
</code></pre>
<p><strong>Note</strong>: this step has been included in the conda install of RAiDER, thus can be omitted if one uses the recommended conda install of RAiDER</p>
</li>
</ol>
<h2 id="4-nasa-weather-models-gmao-merra2">4. NASA weather models (GMAO, MERRA2)</h2>
<ol>
<li>
<p>The Global Modeling and Assimilation Office (<strong><a href="https://www.nccs.nasa.gov/services/data-collections/coupled-products/geos5-forecast#:~:text=The%20Global%20Modeling%20and%20Assimilation,near%2Dreal%2Dtime%20production.">GMAO</a></strong>) at NASA generates reanalysis weather models. GMAO products can also be accessed without a license agreement through the pyDAP interface implemented in RAiDER. GMAO has a horizontal grid spacing of approximately 33 km, and its projection is EPSG code 4326 (WGS-84). </p>
</li>
<li>
<p>The Modern-Era Retrospective analysis for Research and Applications, Version 2 (<strong><a href="https://gmao.gsfc.nasa.gov/reanalysis/MERRA-2/#:~:text=MERRA%2D2%20is%20the%20first,(say)%20Greenland%20and%20Antarctica.">MERRA-2</a></strong>) provides data beginning in 1980. MERRA-2 is also produced by NASA and has a spatial resolution of about 50 km and a global projection (EPSG 4326, WGS-84).  </p>
</li>
</ol>
<p>Reference: <strong><a href="https://journals.ametsoc.org/view/journals/clim/30/14/jcli-d-16-0758.1.xml">The Modern-Era Retrospective Analysis for Research and Applications, Version 2 (MERRA-2)</a></strong>, Ronald Gelaro, et al., 2017, J. Clim., doi: 10.1175/JCLI-D-16-0758.1</p>
<h3 id="accessing-nasa-weather-model-data">Accessing NASA weather model data</h3>
<ol>
<li>Create an account on the NASA's Earthdata website <a href="https://urs.earthdata.nasa.gov">here</a></li>
<li>Confirm your email, etc. </li>
<li>
<p>Copy the login username and password to a file in your home directory name ~/.netrc </p>
<pre><code> machine urs.earthdata.nasa.gov
         login &lt;USERNAME&gt;
         password &lt;PASSWORD&gt;
</code></pre>
<p><strong>Note</strong>: the username and password represent the user's username and password.</p>
</li>
<li>
<p>Add the application <code>NASA GESDISC DATA ARCHIVE</code> by clicking on the <code>Applications-&gt;Authorized Apps</code> on the menu after logging into your Earthdata profile, and then scrolling down to the application <code>NASA GESDISC DATA ARCHIVE</code> to approve it. <em>This seems not required for GMAO for now, but recommended to do so for all OpenDAP-based weather models.</em></p>
</li>
<li>
<p>Install the OpenDAP using pip: </p>
<pre><code> pip install pydap==3.2.1
</code></pre>
<p><strong>Note</strong>: this step has been included in the conda install of RAiDER, thus can be omitted if one uses the recommended conda install of RAiDER</p>
<p><strong>Note</strong>: PyDAP v3.2.1 is required for now (thus specified in the above pip install command) because the latest v3.2.2 (as of now) has a known <a href="https://colab.research.google.com/drive/1f_ss1Oa3VzgAOd_p8sgekdnLVE5NW6s5">bug</a> in accessing and slicing the GMAO data. This bug is expected to be fixed in newer versions of PyDAP.</p>
</li>
</ol>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.fe8b6f2b.min.js"></script>
      
    
  </body>
</html>